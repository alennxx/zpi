<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="user-panel/user_layout :: template_header"></head>

<body id="page-top" class="sidebar-toggled">
<div class="full-height bg-panel">
<nav th:replace="user-panel/user_layout :: navi"></nav>

<div id="wrapper">

    <!-- Sidebar -->
    <ul class="sidebar sidebar-info-product navbar-nav toggled">
        <li class="nav-item">
            <a class="nav-link" href="panel">
                <i class="fas fa-fw fa-th-large"></i>
                <span>Panel</span></a>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-fw fa-user-edit"></i>
                <span>Moje dane</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="pagesDropdown">
                <h6 class="dropdown-header pl-3">Moje konto:</h6>
                <a class="dropdown-item" href="edytuj-dane">Edytuj swoje dane</a>
                <a class="dropdown-item" href="zmien-haslo">Zmień hasło</a>
            </div>
        </li>
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-fw fa-archive"></i>
                <span>Moje produkty</span>
            </a>
            <div class="dropdown-menu" aria-labelledby="pagesDropdown">
                <h6 class="dropdown-header pl-3">Moje produkty:</h6>
                <a class="dropdown-item" href="moje-produkty">Pokaż produkty</a>
                <a class="dropdown-item" href="dodaj-produkt">Dodaj produkt</a>
            </div>
        </li>
        <li class="nav-item active">
            <a class="nav-link" href="wypozyczone-produkty">
                <i class="fas fa-fw fa-shopping-basket"></i>
                <span>Wypożyczone</span></a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="moje-statystyki">
                <i class="fas fa-fw fa-chart-area"></i>
                <span>Statystyki</span></a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="moje-punkty">
                <i class="fas fa-fw fa-donate"></i>
                <span>Moje punkty</span></a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="powiadomienia">
                <i class="fas fa-fw fa-bell"></i>
                <span>Powiadomienia</span></a>
        </li>
    </ul>

    <div id="content-wrapper">
        <div class="card-header text-center ml-md-5">
            <h1 class="text-uppercase">Szczegóły produktu</h1>
        </div>

        <!--================Single Product Area =================-->
        <div class="product_image_area ml-md-5">
            <div class="container">
                <div class="row s_product_inner">
                    <div class="col-lg-6">
                        <div class="s_product_img">
                            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                                <ol class="carousel-indicators">
                                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active">
                                        <img th:if="${photos.size() > 0 && photos.get(0) != null}"
                                             th:src="${photos.get(0)}" alt=""
                                             style="width: 60px; height: 60px;">
                                        <img th:if="${photos.size() == 0 || photos.get(0) == null}"
                                             src="../images/sample-products/no_image.png" alt=""
                                             style="width: 60px; height: 60px;">
                                    </li>
                                    <li data-target="#carouselExampleIndicators" data-slide-to="1">
                                        <img th:if="${photos.size() > 1 && photos.get(1) != null}"
                                             th:src="${photos.get(1)}" alt=""
                                             style="width: 60px; height: 60px;">
                                        <img th:if="${photos.size() <= 1 || photos.get(1) == null}"
                                             src="../images/sample-products/no_image.png" alt=""
                                             style="width: 60px; height: 60px;">
                                    </li>
                                    <li data-target="#carouselExampleIndicators" data-slide-to="2">
                                        <img th:if="${photos.size() > 2 && photos.get(2) != null}"
                                             th:src="${photos.get(2)}" alt=""
                                             style="width: 60px; height: 60px;">
                                        <img th:if="${photos.size() <= 2 || photos.get(2) == null}"
                                             src="../images/sample-products/no_image.png" alt=""
                                             style="width: 60px; height: 60px;">
                                    </li>
                                </ol>
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img th:if="${photos.size() > 0 && photos.get(0) != null}" class="d-block w-100 img-carousel" th:src="${photos.get(0)}" alt="First slide"
                                        >
                                        <img th:if="${photos.size() == 0 || photos.get(0)== null}" class="d-block w-100 img-carousel" src="../images/sample-products/no_image.png" alt="First slide"
                                        >
                                    </div>
                                    <div class="carousel-item">
                                        <img th:if="${photos.size() > 1 && photos.get(1) != null}" class="d-block w-100 img-carousel" th:src="${photos.get(1)}" alt="First slide"
                                        >
                                        <img th:if="${photos.size() <= 1 || photos.get(1)== null}" class="d-block w-100 img-carousel" src="../images/sample-products/no_image.png" alt="First slide"
                                        >
                                    </div>
                                    <div class="carousel-item">
                                        <img th:if="${photos.size() > 2 && photos.get(2) != null}" class="d-block w-100 img-carousel" th:src="${photos.get(2)}" alt="First slide"
                                        >
                                        <img th:if="${photos.size() <= 2 || photos.get(2)== null}" class="d-block w-100 img-carousel" src="../images/sample-products/no_image.png" alt="First slide"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-5 offset-lg-1 short-description">
                        <div class="container">
                            <div class="s_product_text">
                                <h3 th:text="${item.getName()}"></h3>
                                <div class="d-flex justify-content-start">
                                    <h2 th:text="${item.getPoints()}"></h2>
                                    <h2 class="ml-1"> Borrow Coins</h2>
                                </div>
                                <div class="row">
                                    <div class="col-9 row">
                                        <div class="col-3 mr-3">
                                            Kategoria:
                                        </div>
                                        <div class="col-6 yellow-text">
                                            <div th:text="${item.getCategoryName()}"></div>
                                        </div>

                                        <div class="col-3 mr-3">
                                            Status:
                                        </div>
                                        <div th:class="col-8" th:switch="${item.getStatus()}">
                                            <div th:case="${T(com.lending.entities.RentingStatus).Zrealizowane}">
                                                <div class="yellow-text">
                                                    Wypożyczony
                                                </div>
                                            </div>
                                            <div th:case="${T(com.lending.entities.RentingStatus).Utworzone}">Zamówiony</div>
                                            <div th:case="*">Dostępny</div>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="card_area">
                                            <a id="addFavourites" class="icon_btn" href="#">
                                                <i class="lnr lnr lnr-heart"></i>
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <p th:text="${item.getDescription()}"></p>
                                <div class="product_count">

                                </div>
                                <div class="card_area row pb-3">
                                    <div class="col-md-6">
                                        <a class="btn table-btn mb-2" href="wypozyczone-produkty" style="width: 100%;">Wróć do wypożyczonych</a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="#giveBackModal" class="btn table-btn" data-toggle="modal" style="width: 100%;">
                                            <i class="fas fa-exchange-alt"></i>
                                            <span>Oddaj produkt</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--================End Single Product Area =================-->

        <!--<div class="container" id="edit_data">-->
            <!--================Product Description Area =================-->
            <section class="product_description_area ml-md-5">
                <div class="container">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link" id="real-review-tab" data-toggle="tab" href="#real-review" role="tab" aria-controls="review" aria-selected="false">Opinie</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">Dane wypożyczającego</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" id="review-tab" data-toggle="tab" href="#review" role="tab" aria-controls="review" aria-selected="false">Zarobki i koszty</a>
                        </li>
                    </ul>
                    <div class="tab-content long-description" id="myTabContent">
                        <div class="tab-pane fade show" id="real-review" role="tabpanel" aria-labelledby="real-review-tab">
                            <div class="d-flex justify-content-center align-items-center"
                                 style="position: absolute; height: 680px;
                                    background-color: rgba(0, 0, 0, 0.66);
                                    width: 80%;">
                                <h2>
                                    Ta funkcjonalność zostanie dodana w następnej wersji aplikacji
                                </h2>
                            </div>
                            <div class="row mockup-option">
                                <div class="col-lg-6">
                                    <div class="row total_rate">
                                        <div class="col-6">
                                            <div class="box_total">
                                                <h5>Overall</h5>
                                                <h4>4.0</h4>
                                                <h6>(03 Reviews)</h6>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div class="rating_list">
                                                <h3>Based on 3 Reviews</h3>
                                                <ul class="list">
                                                    <li>
                                                        <a href="#">5 Star
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i> 01</a>
                                                    </li>
                                                    <li>
                                                        <a href="#">4 Star
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i> 01</a>
                                                    </li>
                                                    <li>
                                                        <a href="#">3 Star
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i> 01</a>
                                                    </li>
                                                    <li>
                                                        <a href="#">2 Star
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i> 01</a>
                                                    </li>
                                                    <li>
                                                        <a href="#">1 Star
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i>
                                                            <i class="fa fa-star"></i> 01</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="review_list">
                                        <div class="review_item">
                                            <div class="media">
                                                <div class="d-flex">
                                                    <img src="../images/single-product/review-1.png" alt="">
                                                </div>
                                                <div class="media-body">
                                                    <h4>Blake Ruiz</h4>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                </div>
                                            </div>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
                                                aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo</p>
                                        </div>
                                        <div class="review_item">
                                            <div class="media">
                                                <div class="d-flex">
                                                    <img src="../images/single-product/review-2.png" alt="">
                                                </div>
                                                <div class="media-body">
                                                    <h4>Blake Ruiz</h4>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                </div>
                                            </div>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
                                                aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo</p>
                                        </div>
                                        <div class="review_item">
                                            <div class="media">
                                                <div class="d-flex">
                                                    <img src="../images/single-product/review-3.png" alt="">
                                                </div>
                                                <div class="media-body">
                                                    <h4>Blake Ruiz</h4>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                    <i class="fa fa-star"></i>
                                                </div>
                                            </div>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna
                                                aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="review_box">
                                        <h4>Add a Review</h4>
                                        <p>Your Rating:</p>
                                        <ul class="list">
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-star"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-star"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-star"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-star"></i>
                                                </a>
                                            </li>
                                            <li>
                                                <a href="#">
                                                    <i class="fa fa-star"></i>
                                                </a>
                                            </li>
                                        </ul>
                                        <p>Outstanding</p>
                                        <form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="name" name="name" placeholder="Your Full name">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <input type="email" class="form-control" id="email" name="email" placeholder="Email Address">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <input type="text" class="form-control" id="number" name="number" placeholder="Phone Number">
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <textarea class="form-control" name="message" id="message" rows="1" placeholder="Review"></textarea>
                                                </div>
                                            </div>
                                            <div class="col-md-12 text-right">
                                                <button type="submit" value="submit" class="btn submit_btn">Submit Now</button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                            <div class="table-responsive">
                                <table class="table">
                                    <tbody>
                                    <tr>
                                        <td class="td-without-padding">
                                            <h5>Imię</h5>
                                        </td>
                                        <td class="td-without-padding">
                                            <h5 th:text="${borrowingUser.getFirstName()}"></h5>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-without-padding">
                                            <h5>Nazwisko</h5>
                                        </td>
                                        <td class="td-without-padding">
                                            <h5 th:text="${borrowingUser.getLastName()}"></h5>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-without-padding">
                                            <h5>Email</h5>
                                        </td>
                                        <td class="td-without-padding">
                                            <h5 th:text="${borrowingUser.getEmail()}"></h5>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="td-without-padding">
                                            <h5>Miejscowość</h5>
                                        </td>
                                        <td class="td-without-padding">
                                            <h5 th:text="${borrowingUser.getLocality()}"></h5>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="tab-pane fade show active" id="review" role="tabpanel" aria-labelledby="review-tab">
                            <div class="row">
                                <div class="col-lg-3">
                                    <div class="row total_rate pb-3">
                                        <div class="col-md-10">
                                            <div class="box_total">
                                                <h5>Koszt BC*</h5>
                                                <h4 th:text="${item.getPoints()}"></h4>
                                                <h6>*Borrow Coins - kryptowaluta</h6>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row total_rate">
                                        <div class="col-md-10">
                                            <div class="box_total">
                                                <h5>Liczba wypożyczeń</h5>
                                                <h4 th:text="${item.getCountOfRenting()}"></h4>
                                                <h6>Popularny towar!</h6>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-9">
                                    <div class="review_box">
                                        <h4>Ostatnie wypożyczenia:</h4>
                                    </div>
                                    <div class="review_list">
                                        <div class="review_item">
                                            <div class="tab-pane fade in active show" id="current" name="current" role="tabpanel">
                                                <div class="mb-3">
                                                    <div>
                                                        <div class="table-responsive">
                                                            <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                                                <thead class="thead-agency">
                                                                <tr>
                                                                    <th>Lp.</th>
                                                                    <th>Data wypożyczenia</th>
                                                                    <th>Nazwa uzytkownika</th>
                                                                    <th>Data oddania</th>
                                                                </tr>
                                                                </thead>
                                                                <tfoot class="thead-agency">
                                                                <tr>
                                                                    <th>Lp.</th>
                                                                    <th>Data wypożyczenia</th>
                                                                    <th>Nazwa uzytkownika</th>
                                                                    <th>Data oddania</th>
                                                                </tr>
                                                                </tfoot>
                                                                <tbody class="table-rows-body">
                                                                <!--TODO: empty table string -->
                                                                <tr th:each="historyRent,iter :${history}">
                                                                    <td th:text="${iter.index}+1"></td>
                                                                    <td th:text="${#dates.format(historyRent.getBorrowDate(), 'dd/MM/yyyy')}"></td>
                                                                    <td th:text="${historyRent.getUser()}"></td>
                                                                    <td th:text="${#dates.format(historyRent.getGiveBackDate(), 'dd/MM/yyyy')}"></td>
                                                                </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!--================End Product Description Area =================-->
        <!--</div>-->
    </div>
        <footer th:replace="user-panel/user_layout :: foot"></footer>
    </div>
    <!-- /.content-wrapper -->

</div>
<!-- /#wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Chcesz opuścić stronę?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Wybierz "Wyloguj" jeżeli chcesz zakonczyć sesję.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Anuluj</button>
                <!-- logout from session -->
                <a class="btn btn-primary" th:href="@{/logout}">Wyloguj</a>
            </div>
        </div>
    </div>
</div>

<!-- Give Back Modal-->
<div class="modal fade" id="giveBackModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Chcesz oddać produkt?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <form method="post" action="/moje-konto">
                <div class="modal-body">
                    <div class="mb-3">
                        Wybierz termin i miejsce spotkania w celu oddania produktu:
                    </div>
                    <div class="input-group-sm mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text giveback-prepend">Data spotkania</span>
                        </div>
                        <input data-date-format="dd/mm/yyyy" id="demo" class="form-control" required placeholder="Data spotkania">
                    </div>
                    <div class="input-group-sm">
                        <div class="input-group-prepend">
                            <span class="input-group-text giveback-prepend">Miejsce spotkania</span>
                        </div>
                        <input name="meetingAddress" type="text" class="form-control" required placeholder="Adres spotkania">
                    </div>
                </div>
                <div class="modal-footer">
                    <!-- todo uncomment this line and delete below when post supported -->
                    <!--<input class="btn btn-primary" type="submit" value="Potwierdź">-->
                    <button class="btn btn-primary" type="button" data-dismiss="modal">Potwierdź</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Bootstrap core JavaScript-->
<script src="../user-panel/vendor/jquery/jquery.min.js"></script>
<script src="../user-panel/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="../user-panel/vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Page level plugin JavaScript-->
<script src="../user-panel/vendor/chart.js/Chart.min.js"></script>
<script src="../user-panel/vendor/datatables/jquery.dataTables.js"></script>
<script src="../user-panel/vendor/datatables/dataTables.bootstrap4.js"></script>

<!-- Custom scripts for all pages-->
<script src="../user-panel/js/sb-admin.min.js"></script>

<!-- Demo scripts for this page-->
<script src="../user-panel/js/demo/datatables-demo.js"></script>
<script src="../user-panel/js/demo/chart-area-demo.js"></script>

<!-- Date picker range -->
<script type="text/javascript" src="../../daterangepicker-master/moment.min.js"></script>
<script type="text/javascript" src="../../daterangepicker-master/daterangepicker.js"></script>

<script>
$('#demo').daterangepicker({
    "singleDatePicker": true,
    "showDropdowns": false,
    "locale": {
        "format": "DD/MM/YYYY",
        "separator": " / ",
        "applyLabel": "",
        "cancelLabel": "Cancel",
        "fromLabel": "Od",
        "toLabel": "Do",
        "customRangeLabel": "Custom",
        "weekLabel": "T",
        "daysOfWeek": [
            "Nie",
            "Pon",
            "Wto",
            "Śro",
            "Czw",
            "Pią",
            "Sob"
        ],
        "monthNames": [
            "Styczeń",
            "Luty",
            "Marzec",
            "Kwiecień",
            "Maj",
            "Czerwiec",
            "Lipiec",
            "Sierpień",
            "Wrzesień",
            "Październik",
            "Listopad",
            "Grudzień"
        ],
        "firstDay": 1
    },
    "applyButtonClasses": "btn-warning",
    "cancelClass": "btn-warning"
}, function(start, end, label) {
  console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
});
</script>

</body>

</html>
